<!DOCTYPE html>
<html lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
      {{ dropzone.config() }}
      {{ dropzone.load_css() }}
   </head>
   <body>
   <div class="container blur" style="margin-top: 25px;" id="container">
      <div style="width: 100%; display: table;">
         <div style="display: table-row;">
            <!-- <img src="{{url_for('static', filename='imgs/MCTSSA.png')}}"/> -->
            <div style="width: 50%; display: table-cell; position: relative;">
               <h2>Acronym Table Builder</h2>
            </div>
         </div>
      </div>
      <div class="dropzone" style="border-style:dashed;" id="dropzone">
         <div class="dz-message needsclick" style="align-items : center; justify-content: center;">
            <h3 style="align-items:center; justify-content:center;">Drag and drop file here</h3>
            <h4>or</h4>
            <label>Browse for file</label>
         </div>
      </div>
      <h3 style="margin-top: 25px;">Uploaded files:</h3>
      <div class="header-container">
         <div class="row" style="width: 100%; text-align: center; font-weight: bold;">
            <div class="column column-name">
            <div>Name</div>
            </div>
            <div class="column column-date">
            <div>Date</div>
            </div>
            <div class="column column-size">
            <div>Size</div>
            </div>
            <div class="column column-action">
            <div>Action</div>
            </div>
         </div>
         <div class="line"></div>

         <div class="row fade-in-image nonvisible" style="width: 100%; text-align: center;" id="file-one">
            <div class="column column-name">
            <div></div>
            </div>
            <div class="column column-date">
            <div></div>
            </div>
            <div class="column column-size">
            <div></div>
            </div>
            <div class="column column-action" id="action-one">
               <i title="Download Word" class="fa-regular fa-file-word" onclick="getDocx()" id="fa-file-word"></i>
               <i title="Download Excel" class="fa-regular fa-file-excel" onclick="getXLSX()" id="fa-file-excel"></i>
               <i title="View/Edit Document" class="fa-regular fa-eye" onclick="getAcronyms()" id="fa-eye"></i>
               <i title="Delete" class="fa-regular fa-trash-can" onclick="trash()" id="fa-trash-can"></i>
               <!-- Create a How To on an explaination on what the buttons do at the bottom of the page -->
            </div>
         </div>
         <div class="line nonvisible" id="line-one"></div>
      </div>
   </div>
   <!-- <div class="view-container nonvisible" id="view"> -->
   <div class="view-container shadow fade-in-image nonvisible" id="view">
      <div class="slideshow-container" id="slideshow-container">
         <div class="mySlides" style="background-color: #e62636; border-radius: 20px 20px 0 0; text-align: center;" id="page-1">
            <div class="row fade-in-image" id="view-row-1">
               <div class="column column-shortform" style="color: white; font-weight: bold;">
                  <div>Short Form</div>
               </div>
               <div class="column column-longform" style="color: white; font-weight: bold;">
                  <div>Long Form</div>
               </div>
               <div class="column column-action" style="color: white; font-weight: bold;">
                  <div>Action</div>
               </div>
            </div>

            <!-- <div class="row fade-in-image" id="view-row-one" style="background-color: white;">
               <div class="column column-shortform">
                  <div></div>
               </div>
               <div class="column column-longform">
                  <div></div>
               </div>
               <div class="column column-action">
                  <i title="Edit" class="fa-solid fa-pen" onclick="editLongform(this)"></i>
               </div>
            </div>
            <div class="line" id="line-two"></div>             -->
         </div>
         
         <!-- <div class="mySlides">
            <div></div>
         </div> -->
         
         <a class="prev" onclick="plusSlides(-1)">❮</a>
         <a class="next" onclick="plusSlides(1)">❯</a>
         
      </div>
      <div style="text-align:center" id="dot-container">
         <!-- Messes up dots for onboard container -->
         <!-- <span class="dot" onclick="currentSlide(1)"></span>  -->
      </div>
   </div>
   </div>
   <div id="display-container" style="text-align: center; bottom: 10px; left: 50%; transform: translate(-50%,-50%); position: absolute;">
      <div title="Toggle display" style="font-weight: bold;">Display: <i class="display-mode" onclick="toggleDisplay()" id="display-mode">Light Mode</i></div>
   </div>

   <div class="onboarding-container shadow" id="onboarding-container">
      <div class="slideshow-container" id="slideshow-container">
         <div class="myOnboardSlides" style="text-align: center; height: 100%;" id="onboardpage-1">
            <div style="padding: 150px;">
               <div style="height: 200px; width: 200px; background-color: papayawhip; top: 30%; left: 50%; transform: translate(-50%,-50%); position: absolute; border-radius: 25px;">
                  <i class="fa-solid fa-table-cells fa-10x" style="top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;"></i>
               </div>
            </div>
            <!-- <div style="width: 100%; align-items: center; text-align: center; padding: 5px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">
               <h4 style="color: black; height: 20%; width: 400px; font-weight: bold; font-size: 30px; padding: 10px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">Welcome to Acronym Table Builder</h4>
            </div> -->
         </div>
         <div class="myOnboardSlides" style="text-align: center;" id="onboardpage-2">
            <div style="padding: 150px;">
               <div style="height: 200px; width: 200px; background-color: papayawhip; top: 30%; left: 50%; transform: translate(-50%,-50%); position: absolute; border-radius: 25px;">
                  <i class="fa-solid fa-upload fa-10x" style="top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;"></i>
               </div>
            </div>
            <!-- <div style="width: 100%; align-items: center; text-align: center; padding: 5px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">
               <h4 style="color: black; height: 20%; width: 400px; font-weight: bold; font-size: 30px; padding: 10px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">Welcome to Acronym Table Builder</h4>
            </div> -->
         </div>
         <div class="myOnboardSlides" style="text-align: center;" id="onboardpage-3">
            <div style="height: 200px; width: 400px; background-color: papayawhip; top: 30%; left: 50%; transform: translate(-50%,-50%); position: absolute; border-radius: 25px;">
               <i class="fa-solid fa-file-word fa-5x" style="top: 50%; left: 15%; transform: translate(-50%,-50%); position: absolute; color: blue;"></i>
               <i class="fa-solid fa-file-excel fa-5x" style="top: 50%; left: 37.5%; transform: translate(-50%,-50%); position: absolute; color: green"></i>
               <i class="fa-solid fa-eye fa-5x" style="top: 50%; left: 62.5%; transform: translate(-50%,-50%); position: absolute; color: salmon;"></i>
               <i class="fa-solid fa-trash-can fa-5x" style="top: 50%; left: 85%; transform: translate(-50%,-50%); position: absolute; color: #e62636;"></i>
            </div>
         </div>
         <div class="myOnboardSlides" style="text-align: center;" id="onboardpage-4">
            <div style="padding: 150px;">
               <div style="height: 200px; width: 200px; background-color: papayawhip; top: 30%; left: 50%; transform: translate(-50%,-50%); position: absolute; border-radius: 25px;">
                  <i class="fa-solid fa-lightbulb fa-10x" style="top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;"></i>
               </div>
            </div>
            <!-- <div style="width: 100%; align-items: center; text-align: center; padding: 5px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">
               <h4 style="color: black; height: 20%; width: 400px; font-weight: bold; font-size: 30px; padding: 10px; top: 50%; left: 50%; transform: translate(-50%,-50%); position: absolute;">Welcome to Acronym Table Builder</h4>
            </div> -->
         </div>
         <a class="prev" onclick="plusOnboardSlides(-1)">❮</a>
         <a class="next" onclick="plusOnboardSlides(1)">❯</a>
         </div>
         <div style="text-align:center" id="dot-container">
            <span class="dot" onclick="currentOnboardSlide(1)"></span> 
            <span class="dot" onclick="currentOnboardSlide(2)"></span> 
            <span class="dot" onclick="currentOnboardSlide(3)"></span> 
            <span class="dot" onclick="currentOnboardSlide(4)"></span> 
         </div>
      </div>
   </div>

   <script>
   $(document).ready(function(){
      Dropzone.autoDiscover = false;
      $(".dropzone").dropzone({
      url: '/upload',
      width: 300,
      height: 300,
      progressBarWidth: '100%',
      maxFiles: 1,
      maxFileSize: '15MB',
      acceptedFiles: '.doc, .docx',
      addRemoveLinks: true,
      init: function() {
         // this.on("success", function(serverResponse) {});     
         // this.on("removedfile", function(file) {});

         this.on("complete", function(file) {
            // grab filename from dynamically added dz filename class
            let filenames = document.getElementsByClassName("dz-filename");
            let fn = filenames[0].innerText;

            let filesize = document.getElementsByClassName("dz-size");
            let fs = filesize[0].innerText;

            let today = new Date();
            let dd = String(today.getDate()).padStart(2, '0');
            let mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
            let yyyy = today.getFullYear();

            today = mm + '/' + dd + '/' + yyyy;

            let filediv = document.getElementById("file-one");
            filediv.className = "row fade-in-image";
            filediv = filediv.querySelectorAll(".column");
            filediv[0].innerText = fn;
            filediv[1].innerText = today;
            filediv[2].innerText = fs;

            let linediv = document.getElementById("line-one").className = "line";
         });
      }
      });
   });
   </script>
   <script src="{{url_for('static', filename='js/index.js')}}"></script>
   {{ dropzone.load_js() }}
   </body>
</html>